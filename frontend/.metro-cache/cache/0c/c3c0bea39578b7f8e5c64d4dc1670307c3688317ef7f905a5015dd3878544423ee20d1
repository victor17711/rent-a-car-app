{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":40},"end":{"line":2,"column":69,"index":109}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"getAuthToken\", {\n    enumerable: true,\n    get: function () {\n      return getAuthToken;\n    }\n  });\n  Object.defineProperty(exports, \"setAuthToken\", {\n    enumerable: true,\n    get: function () {\n      return setAuthToken;\n    }\n  });\n  Object.defineProperty(exports, \"removeAuthToken\", {\n    enumerable: true,\n    get: function () {\n      return removeAuthToken;\n    }\n  });\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://drivemate-11.preview.emergentagent.com';\n  const getAuthToken = async () => {\n    return await AsyncStorage.default.getItem('session_token');\n  };\n  const setAuthToken = async token => {\n    await AsyncStorage.default.setItem('session_token', token);\n  };\n  const removeAuthToken = async () => {\n    await AsyncStorage.default.removeItem('session_token');\n  };\n  const apiCall = async (endpoint, options = {}) => {\n    const token = await getAuthToken();\n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers\n    };\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    const response = await fetch(`${API_URL}/api${endpoint}`, {\n      ...options,\n      headers,\n      credentials: 'include'\n    });\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({\n        detail: 'Request failed'\n      }));\n      throw new Error(error.detail || 'Request failed');\n    }\n    return response.json();\n  };\n  const api = {\n    // Auth\n    exchangeSession: sessionId => apiCall('/auth/session', {\n      method: 'POST',\n      body: JSON.stringify({\n        session_id: sessionId\n      })\n    }),\n    getMe: () => apiCall('/auth/me'),\n    logout: () => apiCall('/auth/logout', {\n      method: 'POST'\n    }),\n    // Cars\n    getCars: filters => {\n      const params = new URLSearchParams();\n      if (filters) {\n        Object.entries(filters).forEach(([key, value]) => {\n          if (value !== undefined && value !== null && value !== '') {\n            params.append(key, String(value));\n          }\n        });\n      }\n      const queryString = params.toString();\n      return apiCall(`/cars${queryString ? `?${queryString}` : ''}`);\n    },\n    getCar: carId => apiCall(`/cars/${carId}`),\n    calculatePrice: data => apiCall('/calculate-price', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    // Bookings\n    createBooking: data => apiCall('/bookings', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    getMyBookings: () => apiCall('/bookings'),\n    // Admin\n    createCar: data => apiCall('/admin/cars', {\n      method: 'POST',\n      body: JSON.stringify(data)\n    }),\n    updateCar: (carId, data) => apiCall(`/admin/cars/${carId}`, {\n      method: 'PUT',\n      body: JSON.stringify(data)\n    }),\n    deleteCar: carId => apiCall(`/admin/cars/${carId}`, {\n      method: 'DELETE'\n    }),\n    getAllBookings: status => {\n      const params = status ? `?status=${status}` : '';\n      return apiCall(`/admin/bookings${params}`);\n    },\n    updateBookingStatus: (bookingId, status) => apiCall(`/admin/bookings/${bookingId}/status`, {\n      method: 'PUT',\n      body: JSON.stringify({\n        status\n      })\n    }),\n    makeAdmin: () => apiCall('/admin/make-admin', {\n      method: 'POST'\n    }),\n    // Seed\n    seedData: () => apiCall('/seed', {\n      method: 'POST'\n    })\n  };\n});","lineCount":137,"map":[[12,2,6,0,"Object"],[12,8,6,0],[12,9,6,0,"defineProperty"],[12,23,6,0],[12,24,6,0,"exports"],[12,31,6,0],[13,4,6,0,"enumerable"],[13,14,6,0],[14,4,6,0,"get"],[14,7,6,0],[14,18,6,0,"get"],[14,19,6,0],[15,6,6,0],[15,13,6,0,"getAuthToken"],[15,25,6,0],[16,4,6,0],[17,2,6,0],[18,2,10,0,"Object"],[18,8,10,0],[18,9,10,0,"defineProperty"],[18,23,10,0],[18,24,10,0,"exports"],[18,31,10,0],[19,4,10,0,"enumerable"],[19,14,10,0],[20,4,10,0,"get"],[20,7,10,0],[20,18,10,0,"get"],[20,19,10,0],[21,6,10,0],[21,13,10,0,"setAuthToken"],[21,25,10,0],[22,4,10,0],[23,2,10,0],[24,2,14,0,"Object"],[24,8,14,0],[24,9,14,0,"defineProperty"],[24,23,14,0],[24,24,14,0,"exports"],[24,31,14,0],[25,4,14,0,"enumerable"],[25,14,14,0],[26,4,14,0,"get"],[26,7,14,0],[26,18,14,0,"get"],[26,19,14,0],[27,6,14,0],[27,13,14,0,"removeAuthToken"],[27,28,14,0],[28,4,14,0],[29,2,14,0],[30,2,44,0,"Object"],[30,8,44,0],[30,9,44,0,"defineProperty"],[30,23,44,0],[30,24,44,0,"exports"],[30,31,44,0],[31,4,44,0,"enumerable"],[31,14,44,0],[32,4,44,0,"get"],[32,7,44,0],[32,18,44,0,"get"],[32,19,44,0],[33,6,44,0],[33,13,44,0,"api"],[33,16,44,0],[34,4,44,0],[35,2,44,0],[36,2,131,2],[36,6,131,2,"_expoVirtualEnv"],[36,21,131,2],[36,24,131,2,"require"],[36,31,131,2],[36,32,131,2,"_dependencyMap"],[36,46,131,2],[37,2,2,0],[37,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[37,42,2,0],[37,45,2,0,"require"],[37,52,2,0],[37,53,2,0,"_dependencyMap"],[37,67,2,0],[38,2,2,0],[38,6,2,0,"AsyncStorage"],[38,18,2,0],[38,21,2,0,"_interopDefault"],[38,36,2,0],[38,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[38,73,2,0],[39,2,4,0],[39,8,4,6,"API_URL"],[39,15,4,13],[39,18,4,16,"_expoVirtualEnv"],[39,33,4,16],[39,34,4,16,"env"],[39,37,4,16],[39,38,4,16,"EXPO_PUBLIC_BACKEND_URL"],[39,61,4,16],[39,65,4,55],[39,113,4,103],[40,2,6,7],[40,8,6,13,"getAuthToken"],[40,20,6,25],[40,23,6,28],[40,29,6,28,"getAuthToken"],[40,30,6,28],[40,35,6,64],[41,4,7,2],[41,11,7,9],[41,17,7,15,"AsyncStorage"],[41,29,7,27],[41,30,7,27,"default"],[41,37,7,27],[41,38,7,28,"getItem"],[41,45,7,35],[41,46,7,36],[41,61,7,51],[41,62,7,52],[42,2,8,0],[42,3,8,1],[43,2,10,7],[43,8,10,13,"setAuthToken"],[43,20,10,25],[43,23,10,28],[43,29,10,35,"token"],[43,34,10,48],[43,38,10,68],[44,4,11,2],[44,10,11,8,"AsyncStorage"],[44,22,11,20],[44,23,11,20,"default"],[44,30,11,20],[44,31,11,21,"setItem"],[44,38,11,28],[44,39,11,29],[44,54,11,44],[44,56,11,46,"token"],[44,61,11,51],[44,62,11,52],[45,2,12,0],[45,3,12,1],[46,2,14,7],[46,8,14,13,"removeAuthToken"],[46,23,14,28],[46,26,14,31],[46,32,14,31,"removeAuthToken"],[46,33,14,31],[46,38,14,58],[47,4,15,2],[47,10,15,8,"AsyncStorage"],[47,22,15,20],[47,23,15,20,"default"],[47,30,15,20],[47,31,15,21,"removeItem"],[47,41,15,31],[47,42,15,32],[47,57,15,47],[47,58,15,48],[48,2,16,0],[48,3,16,1],[49,2,18,0],[49,8,18,6,"apiCall"],[49,15,18,13],[49,18,18,16],[49,24,18,16,"apiCall"],[49,25,18,23,"endpoint"],[49,33,18,39],[49,35,18,41,"options"],[49,42,18,61],[49,45,18,64],[49,46,18,65],[49,47,18,66],[49,52,18,71],[50,4,19,2],[50,10,19,8,"token"],[50,15,19,13],[50,18,19,16],[50,24,19,22,"getAuthToken"],[50,36,19,34],[50,37,19,35],[50,38,19,36],[51,4,21,2],[51,10,21,8,"headers"],[51,17,21,28],[51,20,21,31],[52,6,22,4],[52,20,22,18],[52,22,22,20],[52,40,22,38],[53,6,23,4],[53,9,23,7,"options"],[53,16,23,14],[53,17,23,15,"headers"],[54,4,24,2],[54,5,24,3],[55,4,26,2],[55,8,26,6,"token"],[55,13,26,11],[55,15,26,13],[56,6,27,5,"headers"],[56,13,27,12],[56,14,27,40],[56,29,27,55],[56,30,27,56],[56,33,27,59],[56,43,27,69,"token"],[56,48,27,74],[56,50,27,76],[57,4,28,2],[58,4,30,2],[58,10,30,8,"response"],[58,18,30,16],[58,21,30,19],[58,27,30,25,"fetch"],[58,32,30,30],[58,33,30,31],[58,36,30,34,"API_URL"],[58,43,30,41],[58,50,30,48,"endpoint"],[58,58,30,56],[58,60,30,58],[58,62,30,60],[59,6,31,4],[59,9,31,7,"options"],[59,16,31,14],[60,6,32,4,"headers"],[60,13,32,11],[61,6,33,4,"credentials"],[61,17,33,15],[61,19,33,17],[62,4,34,2],[62,5,34,3],[62,6,34,4],[63,4,36,2],[63,8,36,6],[63,9,36,7,"response"],[63,17,36,15],[63,18,36,16,"ok"],[63,20,36,18],[63,22,36,20],[64,6,37,4],[64,12,37,10,"error"],[64,17,37,15],[64,20,37,18],[64,26,37,24,"response"],[64,34,37,32],[64,35,37,33,"json"],[64,39,37,37],[64,40,37,38],[64,41,37,39],[64,42,37,40,"catch"],[64,47,37,45],[64,48,37,46],[64,55,37,53],[65,8,37,55,"detail"],[65,14,37,61],[65,16,37,63],[66,6,37,80],[66,7,37,81],[66,8,37,82],[66,9,37,83],[67,6,38,4],[67,12,38,10],[67,16,38,14,"Error"],[67,21,38,19],[67,22,38,20,"error"],[67,27,38,25],[67,28,38,26,"detail"],[67,34,38,32],[67,38,38,36],[67,54,38,52],[67,55,38,53],[68,4,39,2],[69,4,41,2],[69,11,41,9,"response"],[69,19,41,17],[69,20,41,18,"json"],[69,24,41,22],[69,25,41,23],[69,26,41,24],[70,2,42,0],[70,3,42,1],[71,2,44,7],[71,8,44,13,"api"],[71,11,44,16],[71,14,44,19],[72,4,45,2],[73,4,46,2,"exchangeSession"],[73,19,46,17],[73,21,46,20,"sessionId"],[73,30,46,37],[73,34,47,4,"apiCall"],[73,41,47,11],[73,42,47,12],[73,57,47,27],[73,59,47,29],[74,6,48,6,"method"],[74,12,48,12],[74,14,48,14],[74,20,48,20],[75,6,49,6,"body"],[75,10,49,10],[75,12,49,12,"JSON"],[75,16,49,16],[75,17,49,17,"stringify"],[75,26,49,26],[75,27,49,27],[76,8,49,29,"session_id"],[76,18,49,39],[76,20,49,41,"sessionId"],[77,6,49,51],[77,7,49,52],[78,4,50,4],[78,5,50,5],[78,6,50,6],[79,4,52,2,"getMe"],[79,9,52,7],[79,11,52,9,"getMe"],[79,12,52,9],[79,17,52,15,"apiCall"],[79,24,52,22],[79,25,52,23],[79,35,52,33],[79,36,52,34],[80,4,54,2,"logout"],[80,10,54,8],[80,12,54,10,"logout"],[80,13,54,10],[80,18,54,16,"apiCall"],[80,25,54,23],[80,26,54,24],[80,40,54,38],[80,42,54,40],[81,6,54,42,"method"],[81,12,54,48],[81,14,54,50],[82,4,54,57],[82,5,54,58],[82,6,54,59],[83,4,56,2],[84,4,57,2,"getCars"],[84,11,57,9],[84,13,57,12,"filters"],[84,20,57,41],[84,24,57,46],[85,6,58,4],[85,12,58,10,"params"],[85,18,58,16],[85,21,58,19],[85,25,58,23,"URLSearchParams"],[85,40,58,38],[85,41,58,39],[85,42,58,40],[86,6,59,4],[86,10,59,8,"filters"],[86,17,59,15],[86,19,59,17],[87,8,60,6,"Object"],[87,14,60,12],[87,15,60,13,"entries"],[87,22,60,20],[87,23,60,21,"filters"],[87,30,60,28],[87,31,60,29],[87,32,60,30,"forEach"],[87,39,60,37],[87,40,60,38],[87,41,60,39],[87,42,60,40,"key"],[87,45,60,43],[87,47,60,45,"value"],[87,52,60,50],[87,53,60,51],[87,58,60,56],[88,10,61,8],[88,14,61,12,"value"],[88,19,61,17],[88,24,61,22,"undefined"],[88,33,61,31],[88,37,61,35,"value"],[88,42,61,40],[88,47,61,45],[88,51,61,49],[88,55,61,53,"value"],[88,60,61,58],[88,65,61,63],[88,67,61,65],[88,69,61,67],[89,12,62,10,"params"],[89,18,62,16],[89,19,62,17,"append"],[89,25,62,23],[89,26,62,24,"key"],[89,29,62,27],[89,31,62,29,"String"],[89,37,62,35],[89,38,62,36,"value"],[89,43,62,41],[89,44,62,42],[89,45,62,43],[90,10,63,8],[91,8,64,6],[91,9,64,7],[91,10,64,8],[92,6,65,4],[93,6,66,4],[93,12,66,10,"queryString"],[93,23,66,21],[93,26,66,24,"params"],[93,32,66,30],[93,33,66,31,"toString"],[93,41,66,39],[93,42,66,40],[93,43,66,41],[94,6,67,4],[94,13,67,11,"apiCall"],[94,20,67,18],[94,21,67,19],[94,29,67,27,"queryString"],[94,40,67,38],[94,43,67,41],[94,47,67,45,"queryString"],[94,58,67,56],[94,60,67,58],[94,63,67,61],[94,65,67,63],[94,67,67,65],[94,68,67,66],[95,4,68,2],[95,5,68,3],[96,4,70,2,"getCar"],[96,10,70,8],[96,12,70,11,"carId"],[96,17,70,24],[96,21,70,29,"apiCall"],[96,28,70,36],[96,29,70,37],[96,38,70,46,"carId"],[96,43,70,51],[96,45,70,53],[96,46,70,54],[97,4,72,2,"calculatePrice"],[97,18,72,16],[97,20,72,19,"data"],[97,24,80,3],[97,28,80,8,"apiCall"],[97,35,80,15],[97,36,80,16],[97,54,80,34],[97,56,80,36],[98,6,81,4,"method"],[98,12,81,10],[98,14,81,12],[98,20,81,18],[99,6,82,4,"body"],[99,10,82,8],[99,12,82,10,"JSON"],[99,16,82,14],[99,17,82,15,"stringify"],[99,26,82,24],[99,27,82,25,"data"],[99,31,82,29],[100,4,83,2],[100,5,83,3],[100,6,83,4],[101,4,85,2],[102,4,86,2,"createBooking"],[102,17,86,15],[102,19,86,18,"data"],[102,23,94,3],[102,27,94,8,"apiCall"],[102,34,94,15],[102,35,94,16],[102,46,94,27],[102,48,94,29],[103,6,95,4,"method"],[103,12,95,10],[103,14,95,12],[103,20,95,18],[104,6,96,4,"body"],[104,10,96,8],[104,12,96,10,"JSON"],[104,16,96,14],[104,17,96,15,"stringify"],[104,26,96,24],[104,27,96,25,"data"],[104,31,96,29],[105,4,97,2],[105,5,97,3],[105,6,97,4],[106,4,99,2,"getMyBookings"],[106,17,99,15],[106,19,99,17,"getMyBookings"],[106,20,99,17],[106,25,99,23,"apiCall"],[106,32,99,30],[106,33,99,31],[106,44,99,42],[106,45,99,43],[107,4,101,2],[108,4,102,2,"createCar"],[108,13,102,11],[108,15,102,14,"data"],[108,19,102,23],[108,23,102,28,"apiCall"],[108,30,102,35],[108,31,102,36],[108,44,102,49],[108,46,102,51],[109,6,103,4,"method"],[109,12,103,10],[109,14,103,12],[109,20,103,18],[110,6,104,4,"body"],[110,10,104,8],[110,12,104,10,"JSON"],[110,16,104,14],[110,17,104,15,"stringify"],[110,26,104,24],[110,27,104,25,"data"],[110,31,104,29],[111,4,105,2],[111,5,105,3],[111,6,105,4],[112,4,107,2,"updateCar"],[112,13,107,11],[112,15,107,13,"updateCar"],[112,16,107,14,"carId"],[112,21,107,27],[112,23,107,29,"data"],[112,27,107,38],[112,32,107,43,"apiCall"],[112,39,107,50],[112,40,107,51],[112,55,107,66,"carId"],[112,60,107,71],[112,62,107,73],[112,64,107,75],[113,6,108,4,"method"],[113,12,108,10],[113,14,108,12],[113,19,108,17],[114,6,109,4,"body"],[114,10,109,8],[114,12,109,10,"JSON"],[114,16,109,14],[114,17,109,15,"stringify"],[114,26,109,24],[114,27,109,25,"data"],[114,31,109,29],[115,4,110,2],[115,5,110,3],[115,6,110,4],[116,4,112,2,"deleteCar"],[116,13,112,11],[116,15,112,14,"carId"],[116,20,112,27],[116,24,112,32,"apiCall"],[116,31,112,39],[116,32,112,40],[116,47,112,55,"carId"],[116,52,112,60],[116,54,112,62],[116,56,112,64],[117,6,113,4,"method"],[117,12,113,10],[117,14,113,12],[118,4,114,2],[118,5,114,3],[118,6,114,4],[119,4,116,2,"getAllBookings"],[119,18,116,16],[119,20,116,19,"status"],[119,26,116,34],[119,30,116,39],[120,6,117,4],[120,12,117,10,"params"],[120,18,117,16],[120,21,117,19,"status"],[120,27,117,25],[120,30,117,28],[120,41,117,39,"status"],[120,47,117,45],[120,49,117,47],[120,52,117,50],[120,54,117,52],[121,6,118,4],[121,13,118,11,"apiCall"],[121,20,118,18],[121,21,118,19],[121,39,118,37,"params"],[121,45,118,43],[121,47,118,45],[121,48,118,46],[122,4,119,2],[122,5,119,3],[123,4,121,2,"updateBookingStatus"],[123,23,121,21],[123,25,121,23,"updateBookingStatus"],[123,26,121,24,"bookingId"],[123,35,121,41],[123,37,121,43,"status"],[123,43,121,57],[123,48,122,4,"apiCall"],[123,55,122,11],[123,56,122,12],[123,75,122,31,"bookingId"],[123,84,122,40],[123,93,122,49],[123,95,122,51],[124,6,123,6,"method"],[124,12,123,12],[124,14,123,14],[124,19,123,19],[125,6,124,6,"body"],[125,10,124,10],[125,12,124,12,"JSON"],[125,16,124,16],[125,17,124,17,"stringify"],[125,26,124,26],[125,27,124,27],[126,8,124,29,"status"],[127,6,124,36],[127,7,124,37],[128,4,125,4],[128,5,125,5],[128,6,125,6],[129,4,127,2,"makeAdmin"],[129,13,127,11],[129,15,127,13,"makeAdmin"],[129,16,127,13],[129,21,127,19,"apiCall"],[129,28,127,26],[129,29,127,27],[129,48,127,46],[129,50,127,48],[130,6,127,50,"method"],[130,12,127,56],[130,14,127,58],[131,4,127,65],[131,5,127,66],[131,6,127,67],[132,4,129,2],[133,4,130,2,"seedData"],[133,12,130,10],[133,14,130,12,"seedData"],[133,15,130,12],[133,20,130,18,"apiCall"],[133,27,130,25],[133,28,130,26],[133,35,130,33],[133,37,130,35],[134,6,130,37,"method"],[134,12,130,43],[134,14,130,45],[135,4,130,52],[135,5,130,53],[136,2,131,0],[136,3,131,1],[137,0,131,2],[137,3]],"functionMap":{"names":["<global>","getAuthToken","setAuthToken","removeAuthToken","apiCall","response.json._catch$argument_0","exchangeSession","getMe","logout","getCars","Object.entries.forEach$argument_0","getCar","calculatePrice","createBooking","getMyBookings","createCar","updateCar","deleteCar","getAllBookings","updateBookingStatus","makeAdmin","seedData"],"mappings":"AAA;4BCK;CDE;4BEE;CFE;+BGE;CHE;gBIE;8CCmB,oCD;CJK;mBMI;MNI;SOE,yBP;UQE,iDR;WSG;sCCG;ODI;GTI;UWE,4CX;kBYE;IZW;iBaG;IbW;iBcE,0Bd;aeG;IfG;agBE;IhBG;aiBE;IjBE;kBkBE;GlBG;uBmBE;MnBI;aoBE,sDpB;YqBG,0CrB"},"hasCjsExports":false},"type":"js/module"}]}